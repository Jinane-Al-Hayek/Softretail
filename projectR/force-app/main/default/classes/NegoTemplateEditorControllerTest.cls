@isTest
private class NegoTemplateEditorControllerTest {
	
    private static NegoTemplate__c negoTemplate;
    
    static void init() {
        // Create Template.
    	negoTemplate = new NegoTemplate__c(Name = 'nTemp', Description__c = 'MPX', IsActive__c = True, ObjectType__c = SObjectType.Commercial_Plan_Detail__c.Name,
                                           Body__c = '<div style="text-align: center;"><p style="font-family: arial,helvetica,sans-serif; font-size: 10px;"><strong>CONTRAT D&#39;APPLICATION</strong><br>{{!contract_year__c}}<br>{{!Contract__r.name}}</p></div><span style="font-family: arial,helvetica,sans-serif;"><span style="font-size: 4px;"><span style="color: #FFFFFF;">-</span></span></span><br><span style="font-family: arial,helvetica,sans-serif;"><span style="font-size: 9px;"><b>1. <u>CONTRAT DE PRESTATION ENTRE</u> :</b></span></span><p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">La société MONOPRIX EXPLOITATION, Société par actions simplifiées au Capital de 15 045 594 Euros, dont le siège social est situé 14/16 RUE MARC BLOCH 92110 CLICHY, immatriculée au Registre du Commerce et des Sociétés de Nanterre sous le numéro 552 083 297 agissant tant pour son compte que pour celui des membres du réseau de distribution MONOPRIX, dûment représentée par la société MONOPRIX, société par actions simplifiée au capital de 61 751 696 Euros, dont le siège social est 14/16 RUE MARC BLOCH 92110 CLICHY, immatriculée au Registre du Commerce et des Sociétés de Nanterre sous le numéro 552 018 020 agissant par l&#39;intermédiaire de l&#39;acheteur,<br>ci-après dénommé le prestataire.</p><table align="left" border="0" cellpadding="1" cellspacing="1" style="width: 1082px;"><tbody><tr><td colspan="1" rowspan="1" style="width: 255px;"><span style="font-size: 8px;"><span style="font-family: arial,helvetica,sans-serif;">ET<br>			- Le fournisseur :</span></span></td><td colspan="1" rowspan="1" style="width: 815px;">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;"><strong>{{!Supplier__r.admin_raison__c}}<br>			{{!Supplier__r.admin_address1__c}} {{!Supplier__r.admin_address2__c}}<br>			{{!Supplier__r.admin_postcode__c}} {{!Supplier__r.admin_city__c}} {{!Supplier__r.admin_country__c}}</strong><br>			A l&#39;attention de : <strong>{{!Nego_Scope__r.Owner.name}}</strong></p>			</td></tr></tbody></table><br><br><span style="color: #FFFFFF;">--</span><p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">ci-après dénommé le bénéficiaire.<br><br>Les parties sont convenues dans le contrat cadre de coopération commerciale référencé ci-dessous de budgets annuels contractuels en contrepartie de prestations de coopération commerciale dont les opérations visées par le présent contrat d&#39;application font partie.<br>En application de ce contrat cadre, les parties conviennent par les présentes et d&#39;un commun accord de l&#39;exécution de prestations de services spécifiques réalisées par le prestataire dans les conditions suivantes :</p><table align="left" border="0" cellpadding="1" cellspacing="1" style="width: 566px;"><tbody><tr><td colspan="1" rowspan="1" style="width: 134px;">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">Nature de la prestation :<br>			Nom de la manifestation :<br>			Numéro de la manifestation :<br>			Période de la réalisation :</p>			</td><td colspan="1" rowspan="1" style="width: 419px;">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;"><strong>{{!event_support__c}}<br>			{{!event_name__c}}<br>			{{!event_code__c}}<br>			du {{!event_start_date__c}} au {{!event_end_date__c}}</strong></p>			</td></tr></tbody></table><p style="font-size: 8px; color: #FFFFFF;"><br><br><br><br>--</p><table align="center" border="0.5" cellpadding="0.5" cellspacing="0.5" style="width: 500px;"><tbody><tr><td colspan="1" rowspan="1" style="width: 482px;"><span style="font-size: 8px;"><span style="font-family: arial,helvetica,sans-serif;"><strong>Libellé(s) produit(s)</strong></span></span></td><td colspan="1" rowspan="1" style="width: 126px; text-align: center;"><span style="font-size: 8px;"><span style="font-family: arial,helvetica,sans-serif;"><strong>Taux</strong></span></span></td></tr><tr><td colspan="1" rowspan="1" style="width: 482px;">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">{{!products__c}}</p>			</td><td colspan="1" rowspan="1" style="width: 126px; text-align: center;">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">{{!applicable_rate_manual__c}}{{!applicable_rate_formula__c}}</p>			</td></tr></tbody></table><p style="font-size: 8px; font-family: arial,helvetica,sans-serif;"><u><strong>2. Acompte</strong></u> : oui<br><br>3. Les services proposés par les prestataires relèvent de prestations globales annuelles recouvrant des actions relatives à la valorisation et à l&#39;animation des produits et des marques des fournisseurs de marques nationales destinées à favoriser leur commercialisation auprès des consommateurs. Conformément à l&#39;Accord commercial cadre de référence, la base de calcul applicable à la présente prestation s&#39;entend de la totalité du chiffre d&#39;affaires hors taxes net facturé par le Fournisseur pour toute la durée dudit Accord commercial et pour l&#39;ensemble des produits compris dans son périmètre.<br><br>Le présent contrat d&#39;application constitue avec le contrat cadre de coopération commerciale et la confirmation d&#39;opération un tout indissociable et indivisible.<br><br>Fait en deux exemplaires à Clichy le <strong>{{!edition_date__c d/M/yy}}</strong><br>dont un exemplaire pour chacune des parties.</p><table border="0" cellpadding="0.5" cellspacing="0.5" style="width: 100%;"><tbody><tr><td colspan="1" rowspan="1">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">Pour le Bénéficiaire :<br>			<strong>{{!Nego_Scope__r.Admin_Contact__r.name}}</strong></p>			</td><td colspan="1" rowspan="1" style="text-align: right;">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">Pour le Préstataire :<br>			<strong>{{!Nego_Scope__r.Owner.name}}</strong></p>			</td></tr></tbody></table><span style="font-size: 8px;"><span style="color: #FFFFFF;">-</span></span><table align="center" border="0.5" cellpadding="0.5" cellspacing="0.5" style="width: 100%;"><tbody><tr><td colspan="1" rowspan="1" style="text-align: center;">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">Veuillez retourner ce contrat dûment signé à<br>			MONOPRIX<br>			14/16 RUE MARC BLOCH,<br>			92110 CLICHY, FRANCE<br>			à l&#39;attention de <strong>{{!Nego_Scope__r.Owner.name}}</strong></p>			</td></tr></tbody></table><span style="font-size: 4px;"><span style="font-family: arial,helvetica,sans-serif;"><span style="color: #FFFFFF;">--</span></span></span><table align="center" border="0.5" cellpadding="0.5" cellspacing="0.5" style="width: 600px;"><tbody><tr><td colspan="1" rowspan="1">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;"><strong>N° de compte</strong></p>			</td><td colspan="1" rowspan="1">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">{{!Supplier_code_ref__c}}</p>			</td></tr><tr><td colspan="1" rowspan="1">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;"><strong>Périmètre</strong></p>			</td><td colspan="1" rowspan="1">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">{{!Nego_Scope__r.name}}</p>			</td></tr><tr><td colspan="1" rowspan="1">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;"><strong>N° contrat cadre</strong></p>			</td><td colspan="1" rowspan="1">			<p style="font-size: 8px; font-family: arial,helvetica,sans-serif;">{{!contract_number__c}}{{!Temp_Contract_Reference__c}}</p>			</td></tr></tbody></table>');
    	insert negoTemplate;
    }
    static testmethod void constructor() {
        init();
        ApexPages.currentPage().getParameters().put('id', negoTemplate.Id);
        Apexpages.StandardController sc = new Apexpages.StandardController(negoTemplate);
        NegoTemplateEditorController ext = new  NegoTemplateEditorController(sc);
        System.assert(true);
    }
    
    static testmethod void getObjectTypes() {
        init();
        Apexpages.StandardController sc = new Apexpages.StandardController(negoTemplate);
        NegoTemplateEditorController ext = new  NegoTemplateEditorController(sc);
        List<SelectOption> so = ext.getObjectTypes();
        System.assertNotEquals(null, so);
    }
}